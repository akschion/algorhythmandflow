<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Algorhythm and Flow</title>
  <script>
    // Single Page Apps for GitHub Pages
    // MIT License - https://github.com/rafgraph/spa-github-pages
    (function(l) {
      // Skip URL rewrites in development
      if (l.hostname === 'localhost') return;

      // If accessing .html directly, redirect to clean URL
      if (l.pathname.endsWith('.html')) {
        var cleanPath = l.pathname.slice(0, -5); // remove .html
        l.replace(
          l.protocol + '//' + l.hostname + (l.port ? ':' + l.port : '') +
          cleanPath +
          (l.search || '') +
          (l.hash || '')
        );
        return;
      }

      // Only handle 404s for paths that don't end with .html
      if (!l.pathname.match(/\.[a-z]{2,4}$/i)) {
        // Check if we're on GitHub Pages with a repo name in the path
        var segmentCount = l.hostname === 'algorhythmandflow.com' ? 0 : 1;
        var repoName = segmentCount ? l.pathname.split('/')[1] : '';
        var pathSegments = l.pathname.split('/').slice(segmentCount + 1);

        // Build the path to the HTML file
        var htmlPath = repoName ? '/' + repoName : '';
        if (pathSegments.length > 0) {
          htmlPath += '/' + pathSegments.join('/');
          if (!htmlPath.endsWith('.html')) {
            htmlPath += '.html';
          }
        } else {
          htmlPath += '/index.html';
        }

        l.replace(
          l.protocol + '//' + l.hostname + (l.port ? ':' + l.port : '') +
          htmlPath +
          (l.search || '') +
          (l.hash || '')
        );
      }
    }(window.location))
  </script>
</head>
<body>
  <div>Redirecting...</div>
</body>
</html>